document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".nav-menu"),s=document.querySelector(".tools-dropdown-toggle"),a=document.querySelector(".tools-dropdown-menu"),o=document.querySelector(".more-dropdown-toggle"),r=document.querySelector(".more-dropdown-menu");function n(e,t){if(!e||!t)return;let s;e.parentElement.addEventListener("mouseenter",(function(){clearTimeout(s),t.classList.remove("opacity-0","invisible","translate-y-1"),t.classList.add("opacity-100","visible","translate-y-0"),e.setAttribute("aria-expanded","true")})),e.parentElement.addEventListener("mouseleave",(function(){s=setTimeout((()=>{t.classList.add("opacity-0","invisible","translate-y-1"),t.classList.remove("opacity-100","visible","translate-y-0"),e.setAttribute("aria-expanded","false")}),150)})),e.addEventListener("keydown",(function(e){if("Enter"===e.key||" "===e.key){e.preventDefault();const s="true"===this.getAttribute("aria-expanded");if(i(),!s){t.classList.remove("opacity-0","invisible","translate-y-1"),t.classList.add("opacity-100","visible","translate-y-0"),this.setAttribute("aria-expanded","true");const e=t.querySelector('[role="menuitem"]');e&&setTimeout((()=>e.focus()),100)}}else"Escape"===e.key&&(i(),this.focus())})),t.addEventListener("keydown",(function(s){const a=Array.from(t.querySelectorAll('[role="menuitem"]')),o=a.indexOf(document.activeElement);if("ArrowDown"===s.key){s.preventDefault();a[o<a.length-1?o+1:0].focus()}else if("ArrowUp"===s.key){s.preventDefault();a[o>0?o-1:a.length-1].focus()}else"Escape"===s.key&&(i(),e.focus())}))}function i(){[a,r].forEach((e=>{e&&(e.classList.add("opacity-0","invisible","translate-y-1"),e.classList.remove("opacity-100","visible","translate-y-0"))})),[s,o].forEach((e=>{e&&e.setAttribute("aria-expanded","false")}))}if(e&&t&&e.addEventListener("click",(function(e){e.stopPropagation();const s="true"===this.getAttribute("aria-pressed");t.classList.contains("hidden")?(t.classList.remove("hidden"),t.classList.add("block")):(t.classList.add("hidden"),t.classList.remove("block")),this.setAttribute("aria-pressed",!s),this.setAttribute("aria-expanded",!s),window.innerWidth<1024&&(document.body.style.overflow=s?"":"hidden")})),n(s,a),n(o,r),document.addEventListener("click",(function(s){const a=s.target.closest(".group"),o=e?.contains(s.target)||t?.contains(s.target);a||i(),o||!t||t.classList.contains("hidden")||(t.classList.add("hidden"),t.classList.remove("block"),e.setAttribute("aria-pressed","false"),e.setAttribute("aria-expanded","false"),document.body.style.overflow="")})),t){t.querySelectorAll("a").forEach((s=>{s.addEventListener("click",(()=>{t.classList.add("hidden"),t.classList.remove("block"),e.setAttribute("aria-pressed","false"),e.setAttribute("aria-expanded","false"),document.body.style.overflow=""}))}))}window.addEventListener("resize",(function(){window.innerWidth>=1024?t&&!t.classList.contains("hidden")&&(t.classList.add("hidden"),t.classList.remove("block"),e.setAttribute("aria-pressed","false"),e.setAttribute("aria-expanded","false"),document.body.style.overflow=""):i()})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))})),setTimeout((function(){const e=window.location.pathname,t=document.querySelectorAll("header nav a[href], .nav-menu a[href]");t.forEach((e=>{e.classList.contains("logo")||(e.classList.remove("text-blue-600","bg-blue-50","font-semibold"),e.classList.add("text-gray-600"),e.removeAttribute("aria-current"),e.classList.remove("after:absolute","after:bottom-0","after:left-1/2","after:-translate-x-1/2","after:w-5","after:h-0.5","after:bg-blue-600","after:rounded-sm"),e.closest(".tools-dropdown-menu")||e.closest(".more-dropdown-menu")?(e.classList.remove("text-blue-600","bg-blue-50"),e.classList.add("text-gray-700"),e.className=e.className.replace(/hover:bg-blue-\d+/g,"hover:bg-blue-50"),e.className=e.className.replace(/hover:text-blue-\d+/g,"hover:text-blue-600")):(e.closest(".nav-menu"),e.classList.remove("text-blue-600","bg-blue-50"),e.classList.add("text-gray-600")))})),t.forEach((t=>{try{if(t.classList.contains("logo"))return;const s=new URL(t.href,window.location.origin).pathname.replace(/\/$/,"")||"/";s===(e.replace(/\/$/,"")||"/")&&(t.classList.add("text-blue-600","bg-blue-50","font-semibold"),t.classList.remove("text-gray-600","text-gray-700"),t.setAttribute("aria-current","page"),t.closest(".nav-menu")||t.closest(".tools-dropdown-menu")||t.closest(".more-dropdown-menu")||t.classList.add("after:absolute","after:bottom-0","after:left-1/2","after:-translate-x-1/2","after:w-5","after:h-0.5","after:bg-blue-600","after:rounded-sm"))}catch(e){}}))}),100)}));