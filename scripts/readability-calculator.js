class ReadabilityCalculator{constructor(){this.elements={},this.missingElements=[],["text-input","readability-score","grade-level","passive-voice","flesch-score","flesch-explanation","passive-voice-percentage","passive-voice-explanation","paste-btn","clear-btn"].forEach((e=>{const t=document.getElementById(e);t?this.elements[e]=t:this.missingElements.push(e)})),this.missingElements.length>0&&console.warn("Missing DOM elements:",this.missingElements)}async init(){if(!this.isReady())return console.error("Cannot initialize app: missing required DOM elements"),!1;console.log("App initialized successfully");const e=this.getElement("text-input"),t=this.getElement("paste-btn"),i=this.getElement("clear-btn");return e&&(e.value="",e.addEventListener("input",this.handleInput.bind(this))),i&&i.addEventListener("click",this.handleClear.bind(this)),t&&t.addEventListener("click",this.handlePaste.bind(this)),!0}isReady(){return 0===this.missingElements.length&&null!==window.textProcessor&&null!==window.textReadability}getElement(e){return this.elements[e]?this.elements[e]:(console.warn(`Element with id='${e} not found in DOM`),null)}handleInput(e){try{const t=e.target.value,i=this.getElement("clear-btn");i&&(t?i.removeAttribute("disabled"):i.setAttribute("disabled",!0)),this.showReadabilityScore(t),this.showGradeLevel(t),this.showPassiveVoice(t),this.showFleschScore(t),this.showFleschExplanation(t),this.showPassiveVoicePercentage(t),this.showPassiveVoiceExplanation(t)}catch(e){console.error("Error handling input:",e)}}handleClear(){const e=this.getElement("clear-btn"),t=this.getElement("text-input");t&&(t.value="",t.dispatchEvent(new Event("input",{bubbles:!0}))),e&&e.setAttribute("disabled",!0)}async handlePaste(){const e=this.getElement("paste-btn"),t=this.getElement("text-input");if(e&&t)try{const e=await navigator.clipboard.readText();t.value+=e,t.dispatchEvent(new Event("input",{bubbles:!0}))}catch(e){console.error("Cannot paste user content:",e)}}showReadabilityScore(e){const t=this.getElement("readability-score");if(t){if(0===e.trim().length)return t.textContent="N/A",void t.classList.remove("text-red-500","text-orange-500","text-yellow-500","text-green-500","text-primary");const i=window.textReadability.fleschReadingEase(e);let n="";i<10?(n="Extremely difficult",t.classList.add("text-red-500")):i<30?(n="Very Difficult",t.classList.add("text-red-500")):i<50?(n="Difficult",t.classList.add("text-orange-500")):i<60?(n="Somewhat Challenging",t.classList.add("text-yellow-500")):i<70?(n="Plain English",t.classList.add("text-green-500")):i<80?(n="Easy",t.classList.add("text-green-500")):(n="Very Easy",t.classList.add("text-primary")),t.textContent=n}}showGradeLevel(e){const t=this.getElement("grade-level");if(t){if(0===e.trim().length)return void(t.textContent="N/A");const i=Math.floor(window.textReadability.fleschKincaidGrade(e));t.textContent=i<=1?"1st Grade or Lower":i>12?"College or Higher":`${i}th Grade`}}showPassiveVoice(e){const t=this.getElement("passive-voice");if(t){if(0===e.trim().length)return void(t.textContent="N/A");const i=window.textProcessor.getPassiveVoiceDescription(e);t.textContent=i||"N/A"}}showFleschScore(e){const t=this.getElement("flesch-score");if(t){if(0===e.trim().length)return void(t.textContent="0");const i=window.textReadability.fleschReadingEase(e);t.textContent=`${i.toFixed(0)}`}}showFleschExplanation(e){const t=this.getElement("flesch-explanation");if(t){if(0===e.trim().length)return void(t.textContent="Enter your text above to instantly analyze reading difficulty, improve content accessibility, and optimize readability scores for better SEO performance and user engagement.");const i=window.textReadability.fleschReadingEase(e);let n="";n=i<10?"This highly complex text requires advanced education and specialized knowledge to comprehend. Your content is best suited for academic research papers, legal documents, medical journals, scientific publications, and technical literature targeting PhD-level readers. While this complexity may be necessary for specialized fields, consider simplifying language where possible to improve accessibility and search engine optimization. Dense academic writing can limit your audience reach and may negatively impact SEO rankings due to reduced user engagement and higher bounce rates.":i<30?"Your text demonstrates sophisticated vocabulary and complex sentence structures, making it appropriate for scholarly articles, professional journals, advanced textbooks, and detailed technical documentation. This content targets highly educated professionals and academics. While demonstrating expertise, consider breaking up long sentences and explaining technical terms to broaden your audience appeal. Search engines favor content that engages users longer, so improving readability can boost SEO performance while maintaining professional credibility and subject matter authority.":i<50?"This moderately complex content is well-suited for academic textbooks, detailed business reports, professional communications, industry white papers, and specialized blog posts targeting educated audiences. Your content requires some concentration to read comfortably. This level works well for B2B marketing, thought leadership articles, and educational resources. To maximize SEO impact and user engagement, consider adding subheadings, bullet points, and shorter paragraphs while maintaining your professional tone and comprehensive coverage of topics.":i<60?"Your content strikes a good balance between professionalism and accessibility, making it perfect for news articles, business writing, educational content, and informative blog posts. This text is readable by most high school graduates and appeals to a broad professional audience. This readability level is excellent for content marketing, company communications, and informational websites. Your writing effectively communicates complex ideas without overwhelming readers, which can improve user engagement metrics and search engine rankings through better time-on-page and lower bounce rates.":i<70?"Excellent work! Your content achieves optimal readability for web content, making it accessible to general audiences while maintaining credibility and depth. This readability level is ideal for most business communications, marketing materials, blog posts, social media content, and website copy. Your writing successfully balances clarity with substance, making complex topics understandable without sacrificing professionalism. This readability sweet spot typically generates higher user engagement, longer session durations, and better SEO performance, as search engines reward content that keeps users engaged and provides value to diverse audiences.":i<80?"Outstanding readability! Your content is perfectly optimized for maximum audience reach and engagement. This text is ideal for marketing copy, blog posts, social media content, email campaigns, and any material targeting broad consumer audiences. Your clear, concise writing style makes information easily digestible while maintaining professionalism and authority. This readability level typically performs exceptionally well in SEO rankings due to high user engagement, extended time-on-page, social sharing potential, and broad accessibility. Content at this level often sees improved conversion rates and better overall digital marketing performance.":"Perfect for maximum accessibility and universal appeal! Your content achieves exceptional clarity, making it easily understood by virtually all readers, including children, non-native speakers, and individuals with varying literacy levels. This highly accessible writing is excellent for children's content, simple instructions, public health communications, safety information, and content requiring maximum inclusivity. While maintaining simplicity, ensure your content still provides value and expertise to avoid appearing unprofessional. This readability level can significantly boost SEO performance through increased engagement, social sharing, and broader audience appeal, though balance simplicity with authoritative, valuable information.",t.textContent=n}}showPassiveVoicePercentage(e){const t=this.getElement("passive-voice-percentage");if(t){if(0===e.trim().length)return console.log("empty text"),void(t.textContent="0%");const i=window.textProcessor.getPassiveVoicePercentage(e);t.textContent=`${i.toFixed(0)}%`}}showPassiveVoiceExplanation(e){const t=this.getElement("passive-voice-explanation");if(t){if(0===e.trim().length)return void(t.textContent="Enter your text above to analyze passive voice usage and receive detailed feedback on how it impacts readability. This tool will help you identify opportunities to make your writing more direct and engaging through active voice construction.");const i=window.textProcessor.getPassiveVoiceExtendedDescription(e);t.textContent=i||"N/A"}}}(new ReadabilityCalculator).init().then((e=>{e||console.error("Failed to initialize ReadabilityCalculator")})).catch((e=>{console.error("Error during ReadabilityCalculator initialization:",e)}));