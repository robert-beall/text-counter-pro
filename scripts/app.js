class App{constructor(){this.elements={},this.missingElements=[],this.readabilityModule=null,this.wordFrequency=[],["text-input","word-count","char-count","sentence-count","paragraph-count","paste-btn","clear-btn"].forEach((t=>{const e=document.getElementById(t);e?this.elements[t]=e:this.missingElements.push(t)})),this.missingElements.length>0&&console.warn("Missing DOM elements:",this.missingElements)}async init(){if(!this.isReady())return console.error("Cannot initialize app: missing required DOM elements"),!1;console.log("App initialized successfully");const t=this.getElement("text-input"),e=this.getElement("paste-btn"),n=this.getElement("clear-btn");return t&&(t.value="",t.addEventListener("input",this.handleInput.bind(this))),n&&n.addEventListener("click",this.handleClear.bind(this)),e&&e.addEventListener("click",this.handlePaste.bind(this)),!0}isReady(){return 0===this.missingElements.length&&null!==window.textProcessor}getElement(t){return this.elements[t]?this.elements[t]:(console.warn(`Element with id="${t} not found in DOM`),null)}handleInput(t){try{const e=t.target.value,n=this.getElement("clear-btn");n&&(e?n.removeAttribute("disabled"):n.setAttribute("disabled",!0)),this.showCharCount(e),this.showWordCount(e),this.showSentenceCount(e),this.showParagraphCount(e)}catch(t){console.error("Error handling input:",t)}}handleClear(){const t=this.getElement("clear-btn"),e=this.getElement("text-input");e&&(e.value="",e.dispatchEvent(new Event("input",{bubbles:!0}))),t&&t.setAttribute("disabled",!0)}async handlePaste(){const t=this.getElement("paste-btn"),e=this.getElement("text-input");if(t&&e)try{const t=await navigator.clipboard.readText();e.value+=t,e.dispatchEvent(new Event("input",{bubbles:!0}))}catch(t){console.error("Cannot paste user content:",t)}}showWordCount(t){const e=this.getElement("word-count");e&&(e.textContent=window.textProcessor.getWordCount(t).toLocaleString())}showCharCount(t){const e=this.getElement("char-count");e&&(e.textContent=window.textProcessor.getCharCount(t).toLocaleString())}showSentenceCount(t){const e=this.getElement("sentence-count");e&&(e.textContent=window.textProcessor.getSentenceCount(t).toLocaleString())}showParagraphCount(t){const e=this.getElement("paragraph-count");e&&(e.textContent=window.textProcessor.getParagraphCount(t).toLocaleString())}}(new App).init();