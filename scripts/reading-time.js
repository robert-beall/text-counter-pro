class ReadingTime{constructor(){this.readingSpeed=250;this.elements={},this.missingElements=[],["text-input","speed-display","reading-time-display","word-count-display","speed-input","speed-input-mobile","paste-btn","clear-btn"].forEach((e=>{const t=document.getElementById(e);t?this.elements[e]=t:this.missingElements.push(e)})),this.missingElements.length>0&&console.warn("Missing DOM elements:",this.missingElements)}async init(){if(!this.isReady())return console.error("Cannot initialize app: missing required DOM elements"),!1;console.log("App initialized successfully");const e=this.getElement("text-input"),t=this.getElement("speed-display"),n=this.getElement("speed-input"),i=this.getElement("speed-input-mobile"),s=this.getElement("paste-btn"),a=this.getElement("clear-btn");return e&&(e.value="",e.addEventListener("input",this.handleInput.bind(this))),n&&n.addEventListener("input",(()=>{let e=parseInt(n.value);e<0&&(e=0),this.readingSpeed=e,t.textContent=e.toLocaleString(),this.updateDisplay()})),i&&i.addEventListener("input",(()=>{let e=parseInt(i.value);this.readingSpeed=e,e<0&&(e=0),n.value=e,t.textContent=e.toLocaleString(),this.updateDisplay()})),a&&a.addEventListener("click",this.handleClear.bind(this)),s&&s.addEventListener("click",this.handlePaste.bind(this)),!0}isReady(){return 0===this.missingElements.length&&null!==window.textProcessor}getElement(e){return this.elements[e]?this.elements[e]:(console.warn(`Element with id="${e} not found in DOM`),null)}handleInput(e){try{const t=e.target.value,n=this.getElement("clear-btn"),i=this.getElement("speed-input");n&&(t?n.removeAttribute("disabled"):n.setAttribute("disabled",!0)),this.showReadingTime(t,i.value),this.showWordCount(t)}catch(e){console.error("Error handling input:",e)}}handleClear(){const e=this.getElement("clear-btn"),t=this.getElement("text-input");t&&(t.value="",t.dispatchEvent(new Event("input",{bubbles:!0}))),e&&e.setAttribute("disabled",!0)}async handlePaste(){const e=this.getElement("paste-btn"),t=this.getElement("text-input");if(e&&t)try{const e=await navigator.clipboard.readText();t.value+=e,t.dispatchEvent(new Event("input",{bubbles:!0}))}catch(e){console.error("Cannot paste user content:",e)}}updateDisplay(){const e=this.getElement("text-input");e&&(this.showReadingTime(e.value,this.readingSpeed),this.showWordCount(e.value))}showWordCount(e){const t=this.getElement("word-count-display");t&&(t.textContent=window.textProcessor.getWordCount(e).toLocaleString())}showReadingTime(e,t=250){const n=this.getElement("reading-time-display");n&&(n.textContent=window.textProcessor.getReadingTimeReadable(e,t))}}(new ReadingTime).init().then((e=>{e||console.error("Failed to initialize ReadingTime app")})).catch((e=>{console.error("Error during ReadingTime app initialization:",e)}));